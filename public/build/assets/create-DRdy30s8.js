function u(){const e=document.getElementById("offer-type").value;switch(document.getElementById("field-discount-value").classList.add("hidden"),document.getElementById("field-bxgy").classList.add("hidden"),document.getElementById("field-get-discount").classList.add("hidden"),document.getElementById("field-bundle-price").classList.add("hidden"),e){case"percentage_discount":case"fixed_discount":case"flash_sale":document.getElementById("field-discount-value").classList.remove("hidden");break;case"bxgy_free":document.getElementById("field-bxgy").classList.remove("hidden");break;case"multibuy":document.getElementById("field-bxgy").classList.remove("hidden"),document.getElementById("field-bundle-price").classList.remove("hidden");break;case"bxgy_discount":document.getElementById("field-bxgy").classList.remove("hidden"),document.getElementById("field-get-discount").classList.remove("hidden");break;case"bundle":document.getElementById("field-bundle-price").classList.remove("hidden");break}}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("offer-form").addEventListener("submit",async e=>{var d,n;e.preventDefault();const l={name:document.getElementById("offer-name").value,description:document.getElementById("offer-description").value,type:document.getElementById("offer-type").value,discount_value:document.getElementById("discount-value").value||null,buy_quantity:document.getElementById("buy-quantity").value||null,get_quantity:document.getElementById("get-quantity").value||null,get_discount_percentage:document.getElementById("get-discount-percentage").value||null,bundle_price:document.getElementById("bundle-price").value||null,starts_at:document.getElementById("starts-at").value||null,ends_at:document.getElementById("ends-at").value||null,badge_text:document.getElementById("badge-text").value||null,badge_color:document.getElementById("badge-color").value,min_purchase_amount:document.getElementById("min-purchase-amount").value||null,max_uses_per_customer:document.getElementById("max-uses-per-customer").value||null,total_usage_limit:document.getElementById("total-usage-limit").value||null,priority:document.getElementById("priority").value||0,is_active:document.getElementById("is-active").checked};try{await axios.post("/api/admin/offers",l),window.toast.success("Offer created successfully!"),setTimeout(()=>{window.location.href="/admin/offers"},1e3)}catch(t){console.error("Error creating offer:",t);const a=((n=(d=t.response)==null?void 0:d.data)==null?void 0:n.message)||t.message;window.toast.error("Failed to create offer: "+a)}})});window.updateFormFields=u;
